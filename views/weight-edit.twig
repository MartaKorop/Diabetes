{% extends 'layout.twig' %}

{% block body %}
    {% set weight = 0 %}
    {% set time = '' %}

    {% if weight and (action == 'edit') %}
        {% set weight = weight.weight %}
        {% set time = weight.time %}
    {% endif %}

    <div class="container">
        <div class="row justify-content-center">
            <div class="mdl-card form">
                <div class="mdl-card__title">
                    <h2 class="mdl-card__title-text form--title">{{ title }}</h2>
                </div>
                <form autocomplete="off" method="POST" class="mdl-card__form"
                      action="/weight/{{ action }}/{{ weight_id }}">
                    <div class="mdl-grid">

                        <div class="mdl-cell--12-col">
                            <div class="mdl-textfield--floating-label mdl-textfield mdl-js-textfield">
                                <input value="{{ value }}" class="mdl-textfield__input" name="weight" type="number"
                                       min="0" step="0.1" id="weight" data-required>
                                <label class="mdl-textfield__label" for="weight">Weight (kg)</label>
                            </div>
                        </div>

                        <div class="mdl-cell--12-col">
                            <div class="mdl-textfield--floating-label mdl-textfield mdl-js-textfield">
                                <input value="{{ time|date('d-m-Y H:i') }}" class="mdl-textfield__input" name="time"
                                       type="datetime-local" id="time" data-required>
                                <label class="mdl-textfield__label" for="time">Date and time</label>
                            </div>
                        </div>

                        <div class="mdl-cell--12-col mdl-cell--action">
                            <button class="mdl-button mdl-js-button" type="submit">Save</button>
                            <a href="#" onclick="window.history.back();"
                               class="mdl-button mdl-js-button mdl-button--second">Cancel</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
